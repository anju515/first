<!DOCTYPE html>
<html>
<head>
	<title>promise html</title>
</head>
<body>
 <script type="text/javascript">
 	function vartest(){
 		var x=1;
 		if(true){
 			var x=2;
 			console.log(x);//x=2
 		}
 		console.log(x);//x=2
 	}
 	function lettest(){
 		let x=1;
 		if(true){
 			let x=2;
 			console.log(x);//x=w
 		}
 		console.log(x);//x=1
 	}
 let myfirstpromise=new Promise((resolve,reject)=>{
 	setTimeout(function(){
 		resolve("success!");
    },250);
 });
 myfirstpromise.then((successmessage)=>{
 	alert("Yayyy"+successmessage);
 });
 let request=new Promise((resolve,reject)=>{
 	const xhttp=new XMLHttpRequest();
 	xhttp.open("GET","http://koushikmln.com/:7500");
 	xhttp.onload=()=>resolve(xhttp.responseText);
 	xhttp.onerror=()=>reject(xhttp.status);
 	xhttp.send();
 });
 request.then(success=>{
 	alert("Success:"+success);
 }).catch(error=>{
 	alert("Error:"+error);
 })
 </script>
</body>
</html>